<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) on Tue Feb 11 19:44:45 IST 2025 -->
<title>JavaScriptSessionService</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-02-11">
<meta name="description" content="declaration: package: com.iab.omid.library.adsession, class: JavaScriptSessionService">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.iab.omid.library.adsession</a></div>
<h1 title="Class JavaScriptSessionService" class="title">Class JavaScriptSessionService</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.iab.omid.library.adsession.JavaScriptSessionService</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">JavaScriptSessionService</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Service supporting ad sessions managed (started/finished) via JavaScript Session Client APIs
 by providing native-layer measurement signals.
 If the JS Session Client is running in a web view, an instance of this service must be
 initialized with the web view before starting or finishing ad sessions using JS APIs.
 Only one instance of this service may be initialized at a time for a given web view; to reuse a
 web view the current instance must be torn down (see `tearDown`).</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="JavaScriptSessionService.TearDownHandler.html" class="type-name-link" title="interface in com.iab.omid.library.adsession">JavaScriptSessionService.TearDownHandler</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addFriendlyObstruction(View,com.iab.omid.library.adsession.FriendlyObstructionPurpose,java.lang.String)" class="member-name-link">addFriendlyObstruction</a><wbr>(View&nbsp;friendlyObstructionView,
 <a href="FriendlyObstructionPurpose.html" title="enum class in com.iab.omid.library.adsession">FriendlyObstructionPurpose</a>&nbsp;purpose,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;detailedReason)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a friendly obstruction which should then be excluded from all ad session viewability
 calculations.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="JavaScriptSessionService.html" title="class in com.iab.omid.library.adsession">JavaScriptSessionService</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#create(com.iab.omid.library.adsession.Partner,WebView,boolean)" class="member-name-link">create</a><wbr>(<a href="Partner.html" title="class in com.iab.omid.library.adsession">Partner</a>&nbsp;partner,
 WebView&nbsp;webView,
 boolean&nbsp;isHtmlAdView)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Create and initialize an instance of the JavaScriptSessionService.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeAllFriendlyObstructions()" class="member-name-link">removeAllFriendlyObstructions</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all registered friendly obstructions from any currently running and future ad
 sessions measured by this instance of JavaScriptSessionService.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeFriendlyObstruction(View)" class="member-name-link">removeFriendlyObstruction</a><wbr>(View&nbsp;friendlyObstructionView)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove a registered friendly obstruction from any currently running and future ad sessions
 measured by this instance of JavaScriptSessionService.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAdView(View)" class="member-name-link">setAdView</a><wbr>(View&nbsp;adView)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the native view that contains the ad and is used for viewability tracking.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tearDown(com.iab.omid.library.adsession.JavaScriptSessionService.TearDownHandler)" class="member-name-link">tearDown</a><wbr>(<a href="JavaScriptSessionService.TearDownHandler.html" title="interface in com.iab.omid.library.adsession">JavaScriptSessionService.TearDownHandler</a>&nbsp;tearDownHandler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tear down this instance of the service.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="create(com.iab.omid.library.adsession.Partner,WebView,boolean)">
<h3>create</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="JavaScriptSessionService.html" title="class in com.iab.omid.library.adsession">JavaScriptSessionService</a></span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="Partner.html" title="class in com.iab.omid.library.adsession">Partner</a>&nbsp;partner,
 WebView&nbsp;webView,
 boolean&nbsp;isHtmlAdView)</span></div>
<div class="block">Create and initialize an instance of the JavaScriptSessionService. Once this method is
 called, ad sessions can be started and finished from the JS Session Client in the web view.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>partner</code> - Details of the integration partner responsible for ad sessions.</dd>
<dd><code>webView</code> - The web view responsible for starting/finishing ad sessions via the JS Session
                Client.</dd>
<dd><code>isHtmlAdView</code> - Whether the ad is rendered in HTML inside of the provided web view.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - if WebViewFeature.WEB_MESSAGE_LISTENER not supported;
                                       this should only happen for Android versions below 5.0
                                       and can be handled by measuring the ad a different way.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the supplied partner or web view is null.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if this method is called before the OM SDK has been activated.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="tearDown(com.iab.omid.library.adsession.JavaScriptSessionService.TearDownHandler)">
<h3>tearDown</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">tearDown</span><wbr><span class="parameters">(<a href="JavaScriptSessionService.TearDownHandler.html" title="interface in com.iab.omid.library.adsession">JavaScriptSessionService.TearDownHandler</a>&nbsp;tearDownHandler)</span></div>
<div class="block">Tear down this instance of the service.
 Calling this method will cause OM SDK to begin a teardown process including finishing all
 currently active ad sessions measured by this service instance and tearing down communication
 with the OM SDK's JavaScript layer running in the web view.
 This may require up to one second, for example in order to allow verification scripts time to
 process the `sessionFinish` event.
 Once this process has completed, the web view may be torn down or reused for another instance
 of the service without any adverse effects. If there is no need to tear down or reuse the web
 view, this method is not required.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tearDownHandler</code> - Object whose onTearDown method is invoked by OM SDK after the teardown
 process has completed, or one second, whichever comes sooner.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setAdView(View)">
<h3>setAdView</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAdView</span><wbr><span class="parameters">(View&nbsp;adView)</span></div>
<div class="block">Sets the native view that contains the ad and is used for viewability tracking.
 If `isHtmlAdView` was passed as true in the constructor, this method is
 not required since the ad view will be set to the web view by default.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>adView</code> - The native view.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="addFriendlyObstruction(View,com.iab.omid.library.adsession.FriendlyObstructionPurpose,java.lang.String)">
<h3>addFriendlyObstruction</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addFriendlyObstruction</span><wbr><span class="parameters">(View&nbsp;friendlyObstructionView,
 <a href="FriendlyObstructionPurpose.html" title="enum class in com.iab.omid.library.adsession">FriendlyObstructionPurpose</a>&nbsp;purpose,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;detailedReason)</span></div>
<div class="block">Add a friendly obstruction which should then be excluded from all ad session viewability
 calculations. While this instance of JavaScriptSessionService is running, this friendly
 obstruction will be added to each ad session started by the integrator via the JS Session
 Client until the obstruction is removed by calling `removeFriendlyObstruction` or
 `removeAllFriendlyObstructions`.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>friendlyObstructionView</code> - to be excluded from all ad session viewability calculations.</dd>
<dd><code>purpose</code> - why this obstruction was necessary</dd>
<dd><code>detailedReason</code> - an explanation for why this obstruction is part of the ad
                            experience if not already obvious from the
                            <a href="FriendlyObstructionPurpose.html" title="enum class in com.iab.omid.library.adsession"><code>FriendlyObstructionPurpose</code></a> selected. Must be 50 characters
                            or less and only contain characters `A-z`,`0-9` or space.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the supplied friendly obstruction is null.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the detailedReason is over 50 characters or contains a
                                  character that is not in `A-z`,`0-9` or a space.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="removeFriendlyObstruction(View)">
<h3>removeFriendlyObstruction</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeFriendlyObstruction</span><wbr><span class="parameters">(View&nbsp;friendlyObstructionView)</span></div>
<div class="block">Remove a registered friendly obstruction from any currently running and future ad sessions
 measured by this instance of JavaScriptSessionService.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>friendlyObstructionView</code> - to be removed from the list of registered friendly
                                obstructions.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the supplied friendly obstruction is null.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="removeAllFriendlyObstructions()">
<h3>removeAllFriendlyObstructions</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeAllFriendlyObstructions</span>()</div>
<div class="block">Remove all registered friendly obstructions from any currently running and future ad
 sessions measured by this instance of JavaScriptSessionService.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
